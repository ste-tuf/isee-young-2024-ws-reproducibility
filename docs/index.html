<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.324">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Stephane Tuffier">
<meta name="dcterms.date" content="2024-06-05">

<title>ISEE young 2024 - WS8 - Reproducitiliby - Elevate your research with reproducibility science practices: a R workshop for young researcher in epidemiology</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href=".//img/isee-young-logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./img/isee-young-logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ISEE young 2024 - WS8 - Reproducitiliby</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-pre-workshop" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Pre-workshop</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-pre-workshop">    
        <li>
    <a class="dropdown-item" href="./content/pre-ws.html#installation" rel="" target="">
 <span class="dropdown-text">Installation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./content/pre-ws.html#data" rel="" target="">
 <span class="dropdown-text">Data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./content/session_1.html" rel="" target="">
 <span class="menu-text">Part 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./content/session_2.html" rel="" target="">
 <span class="menu-text">Practice 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./content/session_3.html" rel="" target="">
 <span class="menu-text">Practice 2</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="dropdown-header"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text">GitHub</span></li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#program" id="toc-program" class="nav-link active" data-scroll-target="#program">Program</a></li>
  <li><a href="#requirements" id="toc-requirements" class="nav-link" data-scroll-target="#requirements">Requirements</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Elevate your research with reproducibility science practices: a R workshop for young researcher in epidemiology</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Stephane Tuffier </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 5, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>This workshop aims to provide young epidemiology researchers knowledge and skills needed to increase reproducibility of their research.</p>
<p>The first part of the workshop will begin by defining reproducibility and its importance in epidemiology, exploring associated challenges and opportunities. Focus will be put on practical solutions that young researchers can implement in their analysis and writing.</p>
<p>In the second part of the workshop, participants will learn how to start reproducible projects and incorporate best data management and coding practices, inspired by data science and open-source worlds. We will introduce participants to collaboration tools like Git, Git-Hub, and several R packages that improve analysis and code reproducibility, including quarto, purrr, targets, gt. The workshop will conclude with hands-on exercises, enabling participants to apply this tools by themselves. Pre-workshop materials including package installation scripts, data sets, R scripts, will be shared and freely accessible on Git-Hub.</p>
<p><img src="img/WS8.png" class="img-fluid"></p>
<section id="program" class="level2">
<h2 class="anchored" data-anchor-id="program">Program</h2>
<ul>
<li><p><strong>Introduction (15 minutes):</strong></p>
<ul>
<li>Welcome and Icebreaker</li>
<li>Overview of the importance of reproducibility in epidemiology research</li>
</ul></li>
<li><p><strong>Session 1: Understanding Reproducibility (30 minutes)</strong></p>
<ul>
<li>Defining reproducibility and its significance in scientific research</li>
<li>Common challenges in achieving reproducibility in epidemiology</li>
<li>Real-world examples and case studies</li>
</ul></li>
<li><p><strong>Session 2: Building a Reproducible Workflow (45 minutes)</strong></p>
<ul>
<li>Introduction to the principles of a reproducible workflow</li>
<li>Tools and techniques for version control (e.g., Git)</li>
<li>Creating and organizing a project structure for reproducibility</li>
</ul></li>
<li><p><strong>Hands-on Activity 1: Setting up a Reproducible Project (30 minutes)</strong></p>
<ul>
<li>Participants will work on a simple project to apply the principles learned in Session 2</li>
</ul></li>
<li><p><strong>Break (15 minutes): Networking and Refreshments</strong></p></li>
<li><p><strong>Session 3: Data Management and Documentation (45 minutes)</strong></p>
<ul>
<li>Best practices for data collection and documentation</li>
<li>Data cleaning and preprocessing for reproducibility</li>
<li>Metadata and codebook creation</li>
</ul></li>
<li><p><strong>Hands-on Activity 2: Data Cleaning and Documentation (30 minutes)</strong></p>
<ul>
<li>Participants will engage in a hands-on activity to apply data management principles</li>
</ul></li>
<li><p><strong>Session 4: Statistical Analysis and Code Reproducibility (45 minutes)</strong></p>
<ul>
<li>Importance of transparent statistical analysis</li>
<li>Using coding best practices for reproducibility (e.g., R Markdown, Jupyter Notebooks)</li>
<li>Avoiding common pitfalls in statistical analysis</li>
</ul></li>
<li><p><strong>Hands-on Activity 3: Creating Reproducible Analysis Scripts (30 minutes)</strong></p>
<ul>
<li>Participants will work on coding exercises to enhance code reproducibility</li>
</ul></li>
<li><p><strong>Closing Remarks and Q&amp;A (30 minutes)</strong></p>
<ul>
<li>Summary of key takeaways</li>
<li>Resources for further learning</li>
<li>Open floor for questions and discussion</li>
</ul></li>
<li><p><strong>Introduction (15 minutes):</strong></p>
<ul>
<li>Welcome and Icebreaker</li>
</ul></li>
<li><p>Overview of the importance of reproducibility in epidemiology research</p></li>
<li><p><strong>Session 1: Understanding Reproducibility (30 minutes)</strong></p>
<ul>
<li>Defining reproducibility and its significance in scientific research</li>
</ul></li>
<li><p>Common challenges in achieving reproducibility in epidemiology</p></li>
<li><p>Real-world examples and case studies</p></li>
<li><p><strong>Session 2: Building a Reproducible Workflow (45 minutes)</strong></p>
<ul>
<li>Introduction to the principles of a reproducible workflow</li>
</ul></li>
<li><p>Tools and techniques for version control (e.g., Git)</p></li>
<li><p>Creating and organizing a project structure for reproducibility</p></li>
<li><p><strong>Hands-on Activity 1: Setting up a Reproducible Project (30 minutes)</strong></p>
<ul>
<li>Participants will work on a simple project to apply the principles learned in Session 2</li>
</ul></li>
<li><p><strong>Break (15 minutes): Networking and Refreshments</strong></p>
<ul>
<li><strong>Session 3: Data Management and Documentation (45 minutes)</strong></li>
<li>Best practices for data collection and documentation</li>
</ul></li>
<li><p>Data cleaning and preprocessing for reproducibility</p></li>
<li><p>Metadata and codebook creation</p></li>
<li><p><strong>Hands-on Activity 2: Data Cleaning and Documentation (30 minutes)</strong></p>
<ul>
<li>Participants will engage in a hands-on activity to apply data management principles</li>
</ul></li>
<li><p><strong>Session 4: Statistical Analysis and Code Reproducibility (45 minutes)</strong></p>
<ul>
<li>Importance of transparent statistical analysis</li>
</ul></li>
<li><p>Using coding best practices for reproducibility (e.g., R Markdown, Jupyter Notebooks)</p></li>
<li><p>Avoiding common pitfalls in statistical analysis</p></li>
<li><p><strong>Hands-on Activity 3: Creating Reproducible Analysis Scripts (30 minutes)</strong></p>
<ul>
<li>Participants will work on coding exercises to enhance code reproducibility</li>
</ul></li>
<li><p><strong>Closing Remarks and Q&amp;A (30 minutes)</strong></p>
<ul>
<li>Summary of key takeaways</li>
</ul></li>
<li><p>Resources for further learning</p></li>
<li><p>Open floor for questions and discussion</p></li>
</ul>
<p><strong>Materials Needed:</strong> - Projector and screen for presentations - Whiteboard or flip chart for interactive discussions - Individual or shared computers for hands-on activities - Internet access for accessing online resources - Printed handouts summarizing key points and resources</p>
<p><strong>Note:</strong> Encourage participants to bring their own laptops for hands-on activities, and provide pre-workshop materials if necessary. Ensure that the workshop content aligns with the skill level and interests of the target audience of young epidemiology researchers</p>
<p><strong>Conference Workshop Template: Enhancing Reproducibility in Epidemiology Research for Young Researchers</strong></p>
<p><strong>Title: Unlocking the Power of Reproducibility: A Hands-on Workshop for Young Epidemiology Researchers</strong></p>
<p><strong>Objective:</strong> The workshop aims to equip young epidemiology researchers with the essential skills and knowledge to enhance the reproducibility of their research. Participants will gain practical insights, tools, and resources to foster transparent and robust scientific practices in epidemiology.</p>
<p><strong>Duration:</strong> - <strong>Introduction (15 minutes):</strong> - Welcome and Icebreaker - Overview of the importance of reproducibility in epidemiology research</p>
<ul>
<li><p><strong>Session 1: Understanding Reproducibility (30 minutes)</strong></p>
<ul>
<li>Defining reproducibility and its significance in scientific research</li>
<li>Common challenges in achieving reproducibility in epidemiology</li>
<li>Real-world examples and case studies</li>
</ul></li>
<li><p><strong>Session 2: Building a Reproducible Workflow (45 minutes)</strong></p>
<ul>
<li>Introduction to the principles of a reproducible workflow</li>
<li>Tools and techniques for version control (e.g., Git)</li>
<li>Creating and organizing a project structure for reproducibility</li>
</ul></li>
<li><p><strong>Hands-on Activity 1: Setting up a Reproducible Project (30 minutes)</strong></p>
<ul>
<li>Participants will work on a simple project to apply the principles learned in Session 2</li>
</ul></li>
<li><p><strong>Break (15 minutes): Networking and Refreshments</strong></p></li>
<li><p><strong>Session 3: Data Management and Documentation (45 minutes)</strong></p>
<ul>
<li>Best practices for data collection and documentation</li>
<li>Data cleaning and preprocessing for reproducibility</li>
<li>Metadata and codebook creation</li>
</ul></li>
<li><p><strong>Hands-on Activity 2: Data Cleaning and Documentation (30 minutes)</strong></p>
<ul>
<li>Participants will engage in a hands-on activity to apply data management principles</li>
</ul></li>
<li><p><strong>Session 4: Statistical Analysis and Code Reproducibility (45 minutes)</strong></p>
<ul>
<li>Importance of transparent statistical analysis</li>
<li>Using coding best practices for reproducibility (e.g., R Markdown, Jupyter Notebooks)</li>
<li>Avoiding common pitfalls in statistical analysis</li>
</ul></li>
<li><p><strong>Hands-on Activity 3: Creating Reproducible Analysis Scripts (30 minutes)</strong></p>
<ul>
<li>Participants will work on coding exercises to enhance code reproducibility</li>
</ul></li>
<li><p><strong>Closing Remarks and Q&amp;A (30 minutes)</strong></p>
<ul>
<li>Summary of key takeaways</li>
<li>Resources for further learning</li>
<li>Open floor for questions and discussion</li>
</ul></li>
</ul>
<p><strong>Materials Needed:</strong> - Projector and screen for presentations - Whiteboard or flip chart for interactive discussions - Individual or shared computers for hands-on activities - Internet access for accessing online resources - Printed handouts summarizing key points and resources</p>
<p><strong>Note:</strong> Encourage participants to bring their own laptops for hands-on activities, and provide pre-workshop materials if necessary. Ensure that the workshop content aligns with the skill level and interests of the target audience of young epidemiology researchers.</p>
<p>Title: Elevate your research with reproducibility science practices: a R workshop for young researcher in epidemiology</p>
<p>This workshop aims to give young epidemiology researchers the knowledge and skills needed to enhance the reproducibility of their research. The first part of the workshop will begin by defining reproducibility and its importance in epidemiology, exploring associated challenges and opportunities. Besides study design and research good practices, focus will be put on practical solutions that young researchers can implement in their analysis and writing. In the second part of the workshop, participants will learn how to start reproducible projects and incorporate best data management and coding practices, inspired by data science and open-source worlds. We will introduce participants to collaboration tools like Git, Git-Hub, and several R packages that improve analysis and code reproducibility, including <code>quarto</code>, <code>purrr</code>, <code>targets</code>, <code>gt</code>. The workshop will conclude with hands-on exercises, enabling participants to apply these learnings by themselves. Pre-workshop materials including package installation scripts, data sets, R scripts, will be shared and freely accessible on Git-Hub.</p>
<p><strong>Materials Needed:</strong> - Projector and screen for presentations - Whiteboard or flip chart for interactive discussions - Individual or shared computers for hands-on activities - Internet access for accessing online resources - Printed handouts summarizing key points and resources</p>
<p><strong>Note:</strong> Encourage participants to bring their own laptops for hands-on activities, and provide pre-workshop materials if necessary. Ensure that the workshop content aligns with the skill level and interests of the target audience of young epidemiology researchers</p>
</section>
<section id="requirements" class="level1">
<h1>Requirements</h1>
<p>Computer with the following software installed:</p>
<ul>
<li>R (version R 4.3.0 or later),</li>
<li>R-studio, version 2023.03 or later (other IDE like Visual code can also be used, but the),</li>
<li>quarto (version 1.3 or later)</li>
<li>git and git-gui (version &gt;= 2.40.0)</li>
</ul>
<p>Pre workshop instructions can be found here : <a href="./content/pre-ws.html">Pre-workshop instructions</a></p>
<p>It is promising that some leaders in epidemiology (22, 23, 77) and journals are encouraging open science. Early-career epidemiologists could also play a key role. Indeed, in the social sciences, early-career researchers have led numerous replication studies and founded research networks to facilitate their conduct (2, 78), founded journals that incentivize open-science practices (79), developed software to identify incorrect statistical reporting in papers (80), and founded a multinational network of journal clubs covering open-science practices (ReproducibilitiTea, https://reproducibilitea.org/)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">© CC BY-NC, Stéphane Tuffier</div>
  </div>
</footer>



</body></html>